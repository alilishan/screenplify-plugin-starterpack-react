/*! screenplify-5xx - vmaster - build:377-1600751282215 - 2020-09-22 05:09 */
"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},DOCUMENTHEAD=document.getElementsByTagName("head")[0],SERVERURL=window.location.protocol+"//"+window.location.hostname,stylesString=".Debug-Mode-Disabled { cursor:none !important; }\n\t\t\t\t\t.Debug-Mode-Disabled * { cursor:none !important; }\n\t\t\t\t\t.Debug-Mode-Disabled *:hover { cursor:none !important; }\n\t\t\t\t\t.Debug-Mode-Disabled .fp-controls {pointer-events: none !important;}/* display: none !important; */\n\t\t\t\t\t.Preview-Mode-Enabled,\n\t\t\t\t\t.Preview-Mode-Enabled *,\n\t\t\t\t\t.Preview-Mode-Enabled *:hover { cursor: pointer !important; }",stylesElement=document.createElement("style");stylesElement.innerHTML=stylesString,DOCUMENTHEAD.appendChild(stylesElement);var EVENTMETHOD=window.addEventListener?"addEventListener":"attachEvent",MSGEVENT="attachEvent"==EVENTMETHOD?"onmessage":"message",LOADEVENT="attachEvent"==EVENTMETHOD?"onload":"load",MessageHandler=function(e){try{var t=JSON.parse(e.data),n=t.message.split("_")[1];switch(n){case"onWIDGET:LOAD":SCREENPLIFY.Initialize(t.id,t.config,"PM",t.data);break;case"onCALLBACK":SCREENPLIFY.getCALLBACKS.hasOwnProperty(t.callbackId)&&(SCREENPLIFY.getCALLBACKS[t.callbackId].resolve(t.response),delete SCREENPLIFY.getCALLBACKS[t.callbackId]);break;case"PING":window.parent.postMessage(JSON.stringify({message:"FrameBox_PONG",id:t.id}),"*");break;default:console.log("SCREENPLIFY UNRGNSD ACTION:",n)}}catch(e){return!1}};window[EVENTMETHOD](MSGEVENT,MessageHandler,!1),$(document).ready(function(){try{var e=window.parent.KioskConfig;SCREENPLIFY.Initialize("",e,"CORS",null)}catch(e){console.info("SCREENPLIFY HAS TO INIT BY PM: ",e)}});var SCREENPLIFY={apiType:null,widgetId:null,widgetData:null,isInit:!1,getCALLBACKS:{},Initialize:function(e,t,n,o){if(SCREENPLIFY.isInit)return!1;var i=!1;SCREENPLIFY.widgetId=e,SCREENPLIFY.widgetData=o,SCREENPLIFY.apiType=n,SCREENPLIFY.configData=t,t?(t.preview.enabled&&$("body").addClass("Preview-Mode-Enabled"),t.debug.enabled||$("body").addClass("Debug-Mode-Disabled"),$(document).bind("contextmenu",function(e){if(t.preview.enabled){if(!t.debug.enabled)return!1}else if(!t.flags.preview_mode)return!1})):(i=!0,console.log("SCREENPLIFY CONFIG ERROR."));for(var a="mousemove keydown wheel DOMMouseScroll mousewheel mousedown touchstart touchmove MSPointerDown MSPointerMove".split(" "),d=0;d<a.length;d++)$(document).on(a[d],function(e){"PM"==SCREENPLIFY.apiType?window.parent.postMessage(JSON.stringify({message:"SCRPLFY-API:TriggerEvent",id:SCREENPLIFY.widgetId,event:e.type}),"*"):window.parent.IdleTimer&&window.parent.IdleTimer.TriggerEvent()});i||(SCREENPLIFY.isInit=!0,console.log("SCREENPLIFY-API.JS INIT:",SCREENPLIFY.apiType,SCREENPLIFY.widgetId))},showPopup:function(e,t){if("object"!==(void 0===e?"undefined":_typeof(e)))return!1;t=void 0===t?{}:t,"PM"==SCREENPLIFY.apiType?window.parent.postMessage(JSON.stringify({message:"SCRPLFY-API:ShowPopup",id:SCREENPLIFY.widgetId,data:e,options:t}),"*"):"function"==typeof window.parent.FancyBox&&window.parent.FancyBox(e,t)},closePopup:function(){"PM"==SCREENPLIFY.apiType?window.parent.postMessage(JSON.stringify({message:"SCRPLFY-API:ClosePopup",id:SCREENPLIFY.widgetId}),"*"):window.parent.$.fancybox.close()},postStatistics:function(e){return void 0!==e&&"object"===(void 0===e?"undefined":_typeof(e))&&(!!(e.hasOwnProperty("app_id")&&e.hasOwnProperty("event")&&e.hasOwnProperty("data"))&&void("PM"==SCREENPLIFY.apiType?window.parent.postMessage(JSON.stringify({message:"SCRPLFY-API:PostStatistics",id:SCREENPLIFY.widgetId,event:e.event,data:e}),"*"):"function"==typeof window.parent.PostStatistics&&window.parent.PostStatistics(e.event,e,!1)))},getPageInfo:function(){return new Promise(function(e,t){if("PM"==SCREENPLIFY.apiType){var n="CALLBACK-"+Math.floor(1e3*Math.random())+"-"+(new Date).getTime();SCREENPLIFY.getCALLBACKS[n]={resolve:e,reject:t},window.parent.postMessage(JSON.stringify({message:"SCRPLFY-API:GET:PageInfo",id:SCREENPLIFY.widgetId,callbackId:n}),"*")}else e({status:!0,data:{defaultPage:window.parent.getDefaultPage(),activePage:window.parent.getActivePage(),routerEnabled:!!window.parent.Scheduler.PageRouter&&window.parent.Scheduler.PageRouter.Enabled}})})},getComponentInfo:function(e){return void 0!==e&&("PM"==SCREENPLIFY.apiType?SCREENPLIFY.widgetData:window.parent.KioskData.components[e])},getGeoInfo:function(){return!!SCREENPLIFY.isInit&&("geoInfo"in SCREENPLIFY.configData&&SCREENPLIFY.configData.geoInfo)},setPage:function(e){if(void 0===e)return!1;"PM"==SCREENPLIFY.apiType?window.parent.postMessage(JSON.stringify({message:"SCRPLFY-API:SetFrontendPage",id:SCREENPLIFY.widgetId,pageId:e}),"*"):"function"==typeof window.parent.SetFrontendPage?window.parent.SetFrontendPage(e):console.log("window.parent.SetFrontendPage not available")},isWindowLoaded:function(){return!!SCREENPLIFY.isInit&&("PM"==SCREENPLIFY.apiType||window.parent.loaded)},setKeepAlive:function(e){"PM"==SCREENPLIFY.apiType?window.parent.postMessage(JSON.stringify({message:"SCRPLFY-API:ToggleFlag:KeepAlive",id:SCREENPLIFY.widgetId,request:{toggle:e}}),"*"):window.parent.KioskConfig.flags.keepAlive=e},runIdleTimer:function(e){"PM"==SCREENPLIFY.apiType?window.parent.postMessage(JSON.stringify({message:"SCRPLFY-API:RunIdleTimer:"+e,id:SCREENPLIFY.widgetId}),"*"):"Partial"==e&&window.parent.IdleTimer.runPartialTimeOut()}};
//# sourceMappingURL=Screenplify-5.1.3.min.js.map